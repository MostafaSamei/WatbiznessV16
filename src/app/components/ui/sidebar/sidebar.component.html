<div>
  <div class="header border-bottom p-3 ">
    <div class="search">
      <div class="input-group mb-3 border rounded-3 bg-light">
        <input type="text" class="form-control border-0 bg-light text-sm font-medium" placeholder="Search"
          style="font-family: arial , fontawesome;" [(ngModel)]="inputValue" (keyup)="filterChats()">
        <button class="btn color-gray-600 border-0 text-sm font-medium" type="button">
          <span class="border-start ps-2">Name or Phone</span>
        </button>
      </div>
    </div>
    <div class="active-chat d-flex justify-content-between color-gray-600">
      <div>
        <div class="text-lg font-medium ff-poppins">
          Active Chats
          <i class="fa-solid fa-chevron-down mb-0"></i>
          <div class="text-xs">
            <span class=" ">
              1 Chats
            </span>
            <span class="">
              &bull;
            </span>
            <span class="">
              0 unread
            </span>
          </div>
        </div>

      </div>
      <div class="buttons d-flex text-lg">
        <div class="filter me-2">
          <button class="btn color-gray-600 rounded-circle" style="background-color: #F3F4F6;">
            <i class="fa-solid fa-filter"></i>
          </button>
        </div>
        <div class="add">
          <button class="btn text-white bg-blue-800 rounded-circle border-3 border-primary-subtle">
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="body">
    <ng-container *ngFor="let groupChat of groupChats">

      <div class="day d-flex align-items-center ps-3 py-2">
        <span class="color-gray-600 m-0 me-2 text-xs font-bold">{{ groupChat.day }}</span>
        <div class="border-bottom flex-grow-1"></div>
      </div>

      <ng-container *ngFor="let chat of groupChat.chats">
        <div class="chat-lable px-3 py-2 {{ chat.clientId == clientActiveId ? 'bg-blue-50 border-start border-5 border-primary': '' }}" (click)="toggleAndOpen(chat.clientId)">
          <div class="ch-head d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
              <div class="text-sm font-semibold me-2">
                {{ chat.client.name }}
              </div>
              <span class="state bg-blue-50 color-blue-500  p-1 rounded-1 text-11 font-bold" *ngIf="chat.opened">
                Active
              </span>
              <span class="state bg-yellow-50 color-yellow-500  p-1 rounded-1 text-11 font-bold" *ngIf="!chat.opened">
                Pending
              </span>
            </div>
            <span class=" color-gray-600 time text-xs font-semibold">
            {{ chat.lastMessage.createdAt | date: 'shortTime' }}
          </span>
          </div>
          <p class="ch-body m-0 text-xs">
            {{ chat.lastMessage.fileType != "text" ? "File Uploaded" : chat.lastMessage.content.substring(0, 50) }}
          </p>
        </div>
      </ng-container>

    </ng-container>

  </div>
</div>
