<form [formGroup]="NewBroadCast" (ngSubmit)="addBroadcast()">
  <div class="row align-items-center justify-content-center g-0 g-md-2 g-lg-3">
    <div class="col-12">
      <div>
        <div class="head bg-primary-subtle p-2 rounded-top-3">
          <div class="d-flex justify-content-between align-items-center">
            <h6 class="text-secondary text-primary-emphasis fw-semibold m-0">
              Message Content
            </h6>
          </div>
        </div>
        <div class="body border border-primary-subtle border-top-0 p-2 rounded-bottom-3 ">
          <p class="simi-small fw-semibold">Broadcast Name</p>
          <input formControlName="title" type="text" class="form-control px-3 py-2" value="Untitled_131220231619">
          <div>
            <div class="d-flex justify-content-between">
              <p class="simi-small fw-semibold mt-3">Message Template</p>
              <button class="btn p-0 text-primary simi-small fw-semibold">
                <i class="fa-solid fa-plus"></i>
                <span>
                  New Template
                </span>
              </button>
            </div>
            <select class="form-select" aria-label="Default select example" formControlName="templateId">
              <option [value]="1">Select Message</option>

              <ng-container *ngFor="let template of templates">
                <option [value]="template.id">{{template.name}}</option>
              </ng-container>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <div>
        <div class="head bg-primary-subtle p-2 rounded-top-3">
          <div class="d-flex justify-content-between align-items-center">
            <h6 class="text-secondary text-primary-emphasis fw-semibold m-0">
              Clients to be sent to
            </h6>
          </div>
        </div>
        <div class="body border border-primary-subtle border-top-0 p-2 rounded-bottom-3 text-nowrap overflow-y-scroll"
          style="height:240px;">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">
                  <input class="form-check-input" type="checkbox" value="">
                </th>
                <th scope="col">Name</th>
                <th scope="col">Phone Number</th>
              </tr>
            </thead>
            <tbody formArrayName="clientIds">
              <ng-container>
                <tr *ngFor="let client of clients; let i=index">
                  <td>
                    <input class="form-check-input" [formControlName]="i" type="checkbox" [value]="client.id">
                  </td>
                  <td>{{client.name}}</td>
                  <td>{{client.phoneNumber}}</td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div>
        <div class="head bg-primary-subtle p-2 rounded-top-3">
          <div class="d-flex justify-content-between align-items-center">
            <h6 class="text-secondary text-primary-emphasis fw-semibold m-0">
              Clients to be sent to
            </h6>
          </div>
        </div>
        <div class="body border border-primary-subtle border-top-0 p-2 rounded-bottom-3 ">
          <div>
            <input type="radio" name="timeOption" formControlName="timeOption" id="sendNow"
              class="form-check-input me-2" value="now">
            <label for="sendNow">Send Now</label>
          </div>
          <div>
            <input type="radio" name="timeOption" formControlName="timeOption" id="scheduleLater"
              class="form-check-input me-2" value="schedule">
            <label for="scheduleLater">Schedule Later</label>
          </div>
          <ng-container *ngIf="NewBroadCast.get('timeOption').value == 'schedule'">
            <div class="">
              <label for="broadcast-sendtime" class="col-form-label">{{ "Send Date" }}:</label>
              <input type="date" class="form-control" id="broadcast-sendtime" formControlName="sendTime">
            </div>
            <div class="">
              <label for="broadcast-timespan" class="col-form-label">{{ "Send Hour" }}:</label>
              <input type="time" class="form-control" id="broadcast-timespan" formControlName="timeSpan">
            </div>
          </ng-container>

        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="row g-3">
        <div class="col-6">
          <div>
            <button class="btn py-2 btn-primary w-100" type="submit">Save</button>
          </div>
        </div>
        <div class="col-6">
          <div>
            <button class="btn py-2 btn-outline-primary w-100" type="button" data-bs-dismiss="offcanvas"
              aria-label="Close">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>